<div class="calendar">
  <div class="calendar__header">
    <button
      class="control"
      type="button"
      [disabled]="isLeftControlDisabled"
      [class.control_disabled]="isLeftControlDisabled"
      (click)="setPrevMonth()"
    >
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="48" d="M328 112L184 256l144 144"/></svg>
    </button>

    <div class="calendar__date">
      <span class="month">{{ currentMonthName }}</span>
      <span class="year">{{ currentYearNum }}</span>
    </div>

    <button
      class="control"
      type="button"
      [disabled]="isRightControlDisabled"
      [class.control_disabled]="isRightControlDisabled"
      (click)="setNextMonth()"
    >
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="48" d="M184 112l144 144-144 144"/></svg>
    </button>
  </div>

  <div class="calendar__content">
    <div class="weekdays">
      <div 
        *ngFor="let weekday of weekdays; let i = index; trackBy:trackByIndex" 
        class="weekday" 
        [class.weekend]="isWeekend(i)"
      >{{ weekday }}</div>
    </div>

    <dcp-calendar-months-track 
      [years]="years"
    ></dcp-calendar-months-track>
  </div>

  <button *ngIf="!!dateInfo; else close_button" ngx-popover-close class="select-button" type="button" (click)="select()">
    {{ dateInfo | dcpDayRangeFormat }}
  </button>

  <ng-template #close_button>
    <button ngx-popover-close class="close-button" type="button" expand="block" color="medium">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M368 368L144 144M368 144L144 368"/></svg>
    </button>
  </ng-template>
</div>