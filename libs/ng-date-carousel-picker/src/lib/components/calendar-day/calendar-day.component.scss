@import '../../styles/index';

:host {
  // Состояние недоступности
  &.disabled {
    .day {
      pointer-events: none;
      color: var(--dcp-calendar-day-disabled-color, $color-medium);
    }
  }

  // Состояние выбран / не выбран
  &.selected {
    .day {
      background-color: var(--dcp-calendar-day-selected-background-color, $color-medium);
    }
  }

  &.in_week_start,
  &.in_week_end {
    .substrates {
      width: $calendar-cell-size + $calendar-day-substrates-padding;
    }
  }

  // Нахождение в начале недели
  &.in_week_start {
    .substrates {
      padding: 0 $calendar-day-substrates-padding 0 0;
    }
  }

  // Нахождение в конце недели
  &.in_week_end {
    .substrates {
      padding: 0 0 0 $calendar-day-substrates-padding;
    }
  }

  // Нахождение в начале диапазона
  &.in_range_start {
    .substrates__right {
      background-color: var(--dcp-calendar-day-in-range, $color-medium-shade);
    }
  }

  // Нахождение в середине диапазона
  &.in_range_middle {
    .substrates__left,
    .substrates__right {
      background-color: var(--dcp-calendar-day-in-range, $color-medium-shade);
    }
  }

  // Нахождение в конце диапазона
  &.in_range_end {
    .substrates__left {
      background-color: var(--dcp-calendar-day-in-range, $color-medium-shade);
    }
  }
}

.substrates {
  display: flex;
  justify-content: center;
  height: 100%;
  width: $calendar-day-with-substrates-width;
  padding: 0 $calendar-day-substrates-padding;
  position: relative;

  &__left,
  &__right {
    position: absolute;
    top: 0;
    bottom: 0;
    z-index: 5;
    background-color: transparent;
    width: 50%;
    transition-property: background-color;
    transition-duration: var(--dcp-transition-color-duration, $transition-color-duration);
    transition-timing-function: var(--dcp-transition-timing-function, $transition-timing-function);
  }

  &__left {
    left: 0;
  }

  &__right {
    right: 0;
  }
}

.day {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100%;
  border-radius: 5px;
  background-color: initial;
  @include font(16px, var(--dcp-calendar-day-color, $color-dark), 700);

  position: relative;
  z-index: 10;
  width: 100%;
  cursor: pointer;

  transition-property: background-color;
  transition-duration: var(--dcp-transition-color-duration, $transition-color-duration);
  transition-timing-function: var(--dcp-transition-timing-function, $transition-timing-function);

  &:hover {
    background-color: var(--dcp-calendar-day-hover-color, $color-medium);
  }

  &:focus {
    background-color: var(--dcp-day-focus-background-color, $color-light-shade);
    outline: none;
  }
}