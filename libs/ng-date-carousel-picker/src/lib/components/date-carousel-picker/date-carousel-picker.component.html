<div class="range-date-picker">
  <dcp-month-names-track [months]="months"></dcp-month-names-track>

  <div class="picker">
    <button
      class="control"
      type="button"
      [disabled]="false"
      [class.control_disabled]="false"
      (click)="scrollLeft()"
    >
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="48" d="M328 112L184 256l144 144"/></svg>
    </button>

    <dcp-days-track
      [months]="months"
      [inStart]="isLeftControlDisabled"
      [inEnd]="showCalendar ? rightControlType === 'calendar-button' : isRightControlDisabled"
    ></dcp-days-track>

    <button
      *ngIf="!showCalendar; else calendar_template"
      class="control"
      type="button"
      [disabled]="isRightControlDisabled"
      [class.control_disabled]="isRightControlDisabled"
      (click)="scrollRight()"
    >
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="48" d="M184 112l144 144-144 144"/></svg>
    </button>

    <ng-template #calendar_template>
      <button
        *ngIf="rightControlType === 'scroll-button'; else calendar_button"
        class="control"
        type="button"
        (click)="scrollRight()"
      >
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="48" d="M184 112l144 144-144 144"/></svg>
      </button>

      <ng-template #calendar_button>
        <ngx-popover>
          <button
            class="control"
            type="button"
          >
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><rect fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32" x="48" y="80" width="416" height="384" rx="48"/><circle cx="296" cy="232" r="24"/><circle cx="376" cy="232" r="24"/><circle cx="296" cy="312" r="24"/><circle cx="376" cy="312" r="24"/><circle cx="136" cy="312" r="24"/><circle cx="216" cy="312" r="24"/><circle cx="136" cy="392" r="24"/><circle cx="216" cy="392" r="24"/><circle cx="296" cy="392" r="24"/><path fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32" stroke-linecap="round" d="M128 48v32M384 48v32"/><path fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32" d="M464 160H48"/></svg>
          </button>

          <ng-template ngx-popover-template>
            <dcp-calendar></dcp-calendar>
          </ng-template>
        </ngx-popover>
      </ng-template>
    </ng-template>
  </div>
</div>

